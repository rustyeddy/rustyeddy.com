<!DOCTYPE html>
<html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,600;1,400;1,600&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/css/style.css">


<title>How to Build a Self Watering Garden</title>

<script>(function(c,a){if(!a.__SV){var b=window;try{var d,m,j,k=b.location,f=k.hash;d=function(a,b){return(m=a.match(RegExp(b+"=([^&]*)")))?m[1]:null};f&&d(f,"state")&&(j=JSON.parse(decodeURIComponent(d(f,"state"))),"mpeditor"===j.action&&(b.sessionStorage.setItem("_mpcehash",f),history.replaceState(j.desiredHash||"",c.title,k.pathname+k.search)))}catch(n){}var l,h;window.mixpanel=a;a._i=[];a.init=function(b,d,g){function c(b,i){var a=i.split(".");2==a.length&&(b=b[a[0]],i=a[1]);b[i]=function(){b.push([i].concat(Array.prototype.slice.call(arguments,
0)))}}var e=a;"undefined"!==typeof g?e=a[g]=[]:g="mixpanel";e.people=e.people||[];e.toString=function(b){var a="mixpanel";"mixpanel"!==g&&(a+="."+g);b||(a+=" (stub)");return a};e.people.toString=function(){return e.toString(1)+".people (stub)"};l="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
for(h=0;h<l.length;h++)c(e,l[h]);var f="set set_once union unset remove delete".split(" ");e.get_group=function(){function a(c){b[c]=function(){call2_args=arguments;call2=[c].concat(Array.prototype.slice.call(call2_args,0));e.push([d,call2])}}for(var b={},d=["get_group"].concat(Array.prototype.slice.call(arguments,0)),c=0;c<f.length;c++)a(f[c]);return b};a._i.push([b,d,g])};a.__SV=1.2;b=c.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?
MIXPANEL_CUSTOM_LIB_URL:"file:"===c.location.protocol&&"//cdn4.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn4.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn4.mxpnl.com/libs/mixpanel-2-latest.min.js";d=c.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d)}})(document,window.mixpanel||[]);
mixpanel.init("bc05040913854909c46ba8408397cdb5", {batch_requests: true})</script>


<body><header class="container bg-white">
  <nav class="navbar navbar-expand-lg navbar-light">

    <a class="navbar-brand text-muted text-monospace" href="/"><span claa="h1">rusty eddy:</span></a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <nav class="navbar-nav w-100 justify-content-end">
	<div class="nav w-100">
  	  <a class="nav-link" href="/iot-project">IoT &nbsp</a>
  	  <a class="nav-link" href="/notes">notes &nbsp</a>
  	  <a class="nav-link" href="/resume"> resume &nbsp</a> 
  	  <a class="nav-link" href="/about"> about &nbsp</a> 
	</div>
      </nav>
    </div>
  </nav>
</header>
<div class="jumbotron border-top border-bottom bg-white" >
  <div class="row">
    <div class="col-md"></div>
    <div class="col-md-8 text-center">
      <h1 class="header h2 pb-1">How to Build a Self Watering Garden</h1>
      <p class="leadin align-right text-muted text-center mt-0">
        A Guild to developing IoT software

      </p>
    </div>
    <div class="col-md"></div>
  </div>

  <div class="row text-center smaller-text">
    <div class="col"></div>
    <div class="col-8">
      <nav class="nav justify-content-center">
        
        <a class="nav-link" href="https://github.com/iot-station">https://github.com/iot-station</a>
        
        
        
        
        
      </nav>

    </div>
    <div class="col"></div>
  </div>
</div>
<div id="main body">
<div class="container">

  <div class="row mb-4">
    <div class="col"></div>
    <div class="col-8">
      <article class="article text-big">
	<p><img src="/img/iot-project-drawing.png" alt="High Level Sensor Station"></p>
<h2 id="what-is-this-project-about">What is this project about?</h2>
<p><em>Organic Gardner (OG)</em> is an automated irrigation system that gathers
soil moisture levels from various sections of a garden then uses that
data to activate the garden sprinkler system. Done right, this will
eliminate both over and under watering. Likewise there will no longer
be any need to program the watering schedule with confusing sprinkler
menus.</p>
<blockquote>
<p>Although she does not know it yet, my wife will volunteer her
succulent garden for testing!</p>
</blockquote>
<p>From this hopefully interesting and useful example project we will
establish a set of <em>Best Practices</em> and <em>software</em> that will help
reduce the complexity and time to market with your IoT software
project.</p>
<h3 id="what-makes-iot-software-different">What Makes IoT Software Different?</h3>
<p>An IoT project usually involves taking a physical device (or
functional system) like a doorbell (Ring) or Heater (Nest) and adding
smart software with an Internet connection to open a whole new world
of services.</p>
<p>The <em>Ring Doorbell</em> is a popular example of an IoT enhanced product.
It allows you to see and talk to somebody on your pourch when you are
a thousand miles away or in your bathroom.</p>
<p>The <em>Nest</em> thermometer learns exactly what temperature you want your
house, it then keeps your home exactly the temperature you want. Even
better, when your not home it will not waste any energy.</p>
<blockquote>
<p>Just applying smarts to reduce energy consumed in widely used
applications alone is an worthy avenue to prusuit</p>
</blockquote>
<h4 id="iot-brings-new-challenges">IoT Brings New Challenges</h4>
<p>With all the great new capabilities IoT software brings with it today,
these same benefits also bring bring a heavy cost of complexity. The
key to beating the complexity and efficiently building robust software
is to embrace the right processes, a major goal of this website.</p>
<h4 id="establishing-best-practices">Establishing Best Practices</h4>
<p>By establishing the right <em>Software Development Processes</em> for your
project based on <em>Best Practices</em> gathered on this website we can work
together to reduce complexity and build software that is more simple,
robust and reusable.</p>
<h2 id="the-development-plan">The Development Plan</h2>
<p>To avoid being overwhelmed with details and keep the project moving
forward we will build it out incrementally, one interesting feature at
a time stacking cool feature on top of cool feature. Testing will be
performed initially by <em>mocking</em> the collection station with the
<code>mosquitto_pub</code> command line tool.</p>
<p>Let&rsquo;s steal the term from <a href="http://leanstartup.com">Lean Startup</a> and
define our <strong>MVP</strong> by etching out the details of our developmental
<em>milestones</em>.</p>
<h3 id="mvp-milestones">MVP Milestones</h3>
<p>The milestones are defined such that upon the completion of each one
we incrementally adds useful features to the application until we
iterate toward the complete OG MVP.</p>


<div class="card border-0 mb-3"> 
  <div class="row g-0"> 
    <div class="col-md-2">
      <h1 class="display-1 p-5">1</h1>
    </div>

    <div class="col-md-10"> 
      <div class="card-body"> 
        <h5 class="card-title text-primary mb-3">Hub Subscribes to MQTT data</h5>
        <p class="card-text">
          
This first Milestone we import the <em>eclipse MQTT</em> library for go and
get to collecting environmental data transmitted (mocked) using the
<code>mosquitto_pub</code> publishing tool. The data collected is stored
efficiently in RAM for quick retrieval

        </p>
      </div> 
    </div> 
  </div> 
</div> 



<div class="card border-0 mb-3"> 
  <div class="row g-0"> 
    <div class="col-md-2">
      <h1 class="display-1 p-5">2</h1>
    </div>

    <div class="col-md-10"> 
      <div class="card-body"> 
        <h5 class="card-title text-primary mb-3">Hub Provides REST API for Data </h5>
        <p class="card-text">
          
Now that the Hub has data efficiently stored in RAM we need a way to
access the data, for that we'll create a REST API. The REST API is
dependendant on an HTTP server and router that can easily be provided
introducing the go <code>net/http</code> built-in package.

        </p>
      </div> 
    </div> 
  </div> 
</div> 



<div class="card border-0 mb-3"> 
  <div class="row g-0"> 
    <div class="col-md-2">
      <h1 class="display-1 p-5">3</h1>
    </div>

    <div class="col-md-10"> 
      <div class="card-body"> 
        <h5 class="card-title text-primary mb-3">Dashboard Displays Historic Data </h5>
        <p class="card-text">
           
The next milestone is our responsive Single Page App (SPA) written
with the Vue JavaScript framework. The SPA will also be served up by
the Hub's HTTP server. The Dashboard will display historic data
retrieved via the
Hubs REST API.

        </p>
      </div> 
    </div> 
  </div> 
</div> 



<div class="card border-0 mb-3"> 
  <div class="row g-0"> 
    <div class="col-md-2">
      <h1 class="display-1 p-5">4</h1>
    </div>

    <div class="col-md-10"> 
      <div class="card-body"> 
        <h5 class="card-title text-primary mb-3">Dashboard Displays Real Time Data</h5>
        <p class="card-text">
          
This phase of the project we add Websockets to the Hub and Dashboard
allowing the Hub to stream real-time sensor data to the Dashboard. The
Dashboard will always display the latest data for every sensor it
displays as soon as the data arrives.

        </p>
      </div> 
    </div> 
  </div> 
</div> 



<div class="card border-0 mb-3"> 
  <div class="row g-0"> 
    <div class="col-md-2">
      <h1 class="display-1 p-5">5</h1>
    </div>

    <div class="col-md-10"> 
      <div class="card-body"> 
        <h5 class="card-title text-primary mb-3">Collection Station Transmits Data</h5>
        <p class="card-text">
          
This is the most interesting part of the project for me. This is were
we prototype hardware using the <em>esp32 SoC</em> and write some
<em>real time software</em>. When this is complete we can replace the
mock MQTT data with real data from a real sensor!

        </p>
      </div> 
    </div> 
  </div> 
</div> 



<div class="card border-0 mb-3"> 
  <div class="row g-0"> 
    <div class="col-md-2">
      <h1 class="display-1 p-5">6</h1>
    </div>

    <div class="col-md-10"> 
      <div class="card-body"> 
        <h5 class="card-title text-primary mb-3">Introducing the Cloud</h5>
        <p class="card-text">
           
The final frontier, at least for this set of milestones is global
connectivity through the cloud. An Internet connection will allow us to
provide global access, safe persistent storage and fleet management
software preparing us for the next rounds of feature releases.

        </p>
      </div> 
    </div> 
  </div> 
</div> 

<h2 id="the-software-components">The Software Components</h2>
<p>This project reflects a <em>&ldquo;real world&rdquo;</em> software project in that it
involves a variety of programming languages, protocols and
technologies: <em>Go</em>, C++, <em>JavaScript</em>, <em>HTTP</em>, <em>MQTT</em>, <em>Websockets</em>
and other stuff.</p>
<p>This set of articles takes more of a <em>systems view</em> of software
application architecture, rather than a deep dive into a single
programming language or technology. Make no mistake though, this
content will take on some tough technical challenges and work out some
important programming problems in detail.</p>
<h3 id="the-process-of-softwware-development">The Process of Softwware Development</h3>
<p>A heavy emphasis of this site will be on the software development
processes, often referred to as the <em>Software Development
Lifecycle</em>. We will cover topics like: <em>Agile</em>, <em>Kanban</em>, Test Driven
Development, Version Control and the release processes (CI/CD).</p>
<p>This information will be particularly important for product owners and
managers responsible for building a team that will deliver software.</p>
<h4 id="software-component-overview">Software Component Overview</h4>
<p>The project at this point consists of the following primary software
components. Each of these components are operational and Open Source
with a <a href="https://github.com/iot-station/">Github Repo</a>.
Instructions to build and run each component can be found on the
respective README.md file.</p>
<p>If you are interested in getting involved in a specific software
component and related technology, head to that software component to
see what is going on and get involved!</p>

      </article>
    </div>
    <div class="col"></div>
  </div>

</div>

<div class="container mb-4">
  <div class="row row-cols-1 row-cols-md-2">
    
    <div class="card m-2" style="max-width:48%">
      <div class="card-body">
        <h5 class="card-title">
          
          Iot Hub [coming soon...] 
        </h5>
        <p class="card-text">The IoT Hub is the center piece of the IoT project as gathers data, runs application logic. Provides an HTTP Server to serve up a Web App, REST API and Web sockets. This project is a Micro service written in Go, and is perfect for systems hackers, backend devs and full-stackers.
</p>
        
      </div>
    </div>
    
    <div class="card m-2" style="max-width:48%">
      <div class="card-body">
        <h5 class="card-title">
          
          Real-time Dashboard [coming soon...] 
        </h5>
        <p class="card-text">The dashboard is a responsive Web Application written with Vue to display historic and real time application data. The dashboard allows users to configure the application and switch connected relays. This is going to be of interest to reactive frontend devs and designers.
</p>
        
      </div>
    </div>
    
    <div class="card m-2" style="max-width:48%">
      <div class="card-body">
        <h5 class="card-title">
          
          Collection Station [coming soon...] 
        </h5>
        <p class="card-text">The Collection Stations are small battery powered wireless devices outfitted with environmental sensors. They collect and publish the data to the Hub for processing. This project is built with the esp32 micro-controller, C&#43;&#43; and embedded realtime operating system. 
</p>
        
      </div>
    </div>
    
    <div class="card m-2" style="max-width:48%">
      <div class="card-body">
        <h5 class="card-title">
          
          Cloud Automation [coming soon...] 
        </h5>
        <p class="card-text">Cloud support extends the reach of the data globally allowing access to both real-time and historical datas from anywhere in the world. The cloud provides opertunities for global control and fleet management. This section is ideal for DevOps and SRE types.
</p>
        
      </div>
    </div>
    
  </div> 
</div>

<div class="container">
  <div class="row mb-4">
    <div class="col"></div>
    <div class="col-8">
      <article class="article text-big">
        <h3 class="h3">About the Project Newsletter</h3>
        <p>
          The <em>project newsletter</em> is the best way to not only
          keep up with advances to the project, but also get an email
          sequence that describes the major components as they are
          added along with some of the decisions that have been made
          and rationale for those decisions. 
        </p>
      </article>
    </div>
    <div class="col"></div>
  </div>

</div>




	</div><div class="d-flex justify-content-center">
  <script async data-uid="50dfcceaf3" src="https://skilled-producer-5787.ck.page/50dfcceaf3/index.js"></script>
</div>

<footer id="footer" class="container-fluid footer small-text pt-4 border-top">
  <section class="row">
    <div class="col"></div>
    <div class="col text-right">
      <div class="address">419 Main St. #439</div>
      <div class="city">Huntington Beach, CA. 92648</div>
    </div>
    <div class="col-3 text-center">
      <div>
        Last update ~
        
	
        Sunday, Sep 6, 2020
	
        
      </div>
      <div>site by <a href="/">Eddy Consulting, LLC.</a> ~ &#xA9; 2008 to 2020 </div>
    </div>
    <div class="col">
      <div class="text-left">
	<div class="phone">(714) 362-5402</div>
	<a href="https://github.com/rustyeddy">github</a> .
	<a href="https://twitter.com/rustyeddy">twitter</a> .
	<a href="https://linkedin.com/rustyeddy">linkedin</a><br/>	    
      </div>
    </div>
    <div class="col"></div>
  </section>
</footer>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-19940083-13"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-19940083-13');
</script>


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>




    </body>
</html>
