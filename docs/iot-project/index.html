<!DOCTYPE html>
<html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,600;1,400;1,600&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/css/style.css">


<title>A Guide to Developing IoT Software</title>

<script>(function(c,a){if(!a.__SV){var b=window;try{var d,m,j,k=b.location,f=k.hash;d=function(a,b){return(m=a.match(RegExp(b+"=([^&]*)")))?m[1]:null};f&&d(f,"state")&&(j=JSON.parse(decodeURIComponent(d(f,"state"))),"mpeditor"===j.action&&(b.sessionStorage.setItem("_mpcehash",f),history.replaceState(j.desiredHash||"",c.title,k.pathname+k.search)))}catch(n){}var l,h;window.mixpanel=a;a._i=[];a.init=function(b,d,g){function c(b,i){var a=i.split(".");2==a.length&&(b=b[a[0]],i=a[1]);b[i]=function(){b.push([i].concat(Array.prototype.slice.call(arguments,
0)))}}var e=a;"undefined"!==typeof g?e=a[g]=[]:g="mixpanel";e.people=e.people||[];e.toString=function(b){var a="mixpanel";"mixpanel"!==g&&(a+="."+g);b||(a+=" (stub)");return a};e.people.toString=function(){return e.toString(1)+".people (stub)"};l="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
for(h=0;h<l.length;h++)c(e,l[h]);var f="set set_once union unset remove delete".split(" ");e.get_group=function(){function a(c){b[c]=function(){call2_args=arguments;call2=[c].concat(Array.prototype.slice.call(call2_args,0));e.push([d,call2])}}for(var b={},d=["get_group"].concat(Array.prototype.slice.call(arguments,0)),c=0;c<f.length;c++)a(f[c]);return b};a._i.push([b,d,g])};a.__SV=1.2;b=c.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?
MIXPANEL_CUSTOM_LIB_URL:"file:"===c.location.protocol&&"//cdn4.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn4.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn4.mxpnl.com/libs/mixpanel-2-latest.min.js";d=c.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d)}})(document,window.mixpanel||[]);
mixpanel.init("bc05040913854909c46ba8408397cdb5", {batch_requests: true})</script>


<body><header class="container bg-white">
  <nav class="navbar navbar-expand-lg navbar-light">

    <a class="navbar-brand text-muted text-monospace" href="/"><span claa="h1">rusty eddy:</span></a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <nav class="navbar-nav w-100 justify-content-end">
	<div class="nav w-100">
  	  <a class="nav-link" href="/iot-project/">IoT &nbsp</a>
  	  <a class="nav-link" href="/resume"> resume &nbsp</a> 
  	  <a class="nav-link" href="/about"> about &nbsp</a> 
	</div>
      </nav>
    </div>
  </nav>
</header>
<div class="jumbotron border-top border-bottom bg-white" >
  <div class="row">
    <div class="col-md"></div>
    <div class="col-md-8">
      <h1 class="header h2 text-center pb-1">A Guide to Developing IoT Software</h1>
      <p class="leadin align-right text-muted text-center mt-0">
	This site documents the technical challenges and design decisions I used while developing the Organic Gardner IoT product, a self watering garden. If you are interested in developing IoT software or adding software to one of your projects you are in the right place. Join the NewsLetter below and say Hi!

      </p>
    </div>
    <div class="col-md"></div>
  </div>

  <div class="row text-center smaller-text">
    <div class="col"></div>
    <div class="col-8">
      <nav class="nav justify-content-center">
        
        <a class="nav-link" href="https://github.com/iot-station/iothub">https://github.com/iot-station/iothub</a>
        
        
        
        
        
      </nav>

    </div>
    <div class="col"></div>
  </div>
</div>
<div id="main body">
<div class="container">

  <div class="row mb-4">
    <div class="col"></div>
    <div class="col-8">
      <article class="article text-big">
	<p><img src="/img/iot-project-drawing.png" alt="High Level Sensor Station"></p>
<h2 id="what-is-this-project-about">What is this project about?</h2>
<p>Code named <em>Organic Gardner (OG)</em> this automated irrigation system
will use soil moisture levels from inexpensive sensors to control
sprinklers that water plants.  My wife will volunteer her rather
extensive <em>succulent collection</em> as a test bed for this project!
She doesn&rsquo;t know this yet.</p>
<p>An IoT project usually involves taking a well known functional device
like a doorbell (Ring) or Heater (Nest) and adding some &ldquo;smart&rdquo;
software with an Internet connection to develop a whole new world of
features. This is also true of our project.</p>
<p>While we are focusing on irrigation and gardens, the same framework
built to support OG can be leveraged to develop many different type of
IoT project.</p>
<h3 id="on-demand-irrigation-and-lighting-controls">On Demand Irrigation and Lighting Controls</h3>
<p>The main application is what i call <em>On Demand Irrigation (ODI)</em> which
is a feature that uses soil&rsquo;s moisture levels to control a network of
sprinklers ensuring every micro-section of the garden is optimally
watered.</p>
<p>Lighting can be controlled by light levels or programmed with a
traditional time based scheduler, all according to application
requirements.</p>
<h2 id="the-development-plan">The Development Plan</h2>
<p>To avoid being overwhelmed with details and keep the project moving
forward we will build it out incrementally, one interesting feature at
a time, stacking cool feature on top of cool feature. Testing will be
performed initially by <em>mocking</em> MQTT publishers with the
<code>mosquitto_pub</code> command line tool.</p>
<p>Let&rsquo;s steal the term from <a href="http://leanstartup.com">Lean Startup</a> and
define our <strong>MVP</strong> by etching out the details of our developmental
<em>milestones</em>.</p>
<h3 id="mvp-milestones">MVP Milestones</h3>
<p>The milestones are structured such that completeing each milestone
incrementally adds useful features to the application until we
progressively iterate toward the completed gardening MVP.</p>


<div class="card border-0 mb-3"> 
  <div class="row g-0"> 
    <div class="col-md-2">
      <h1 class="display-1 p-5">1</h1>
    </div>

    <div class="col-md-10"> 
      <div class="card-body"> 
        <h5 class="card-title text-primary mb-3">Hub Subscribes to MQTT and Serves HTTP </h5>
        <p class="card-text">
          
This first Milestone has three major components and requires two
libraries all written in the Go programming langauge. The successful
completion of this milestone has the hub subscribing to MQTT data,
caching the data in RAM and providing a REST API to access that data.

        </p>
      </div> 
    </div> 
  </div> 
</div> 



<div class="card border-0 mb-3"> 
  <div class="row g-0"> 
    <div class="col-md-2">
      <h1 class="display-1 p-5">2</h1>
    </div>

    <div class="col-md-10"> 
      <div class="card-body"> 
        <h5 class="card-title text-primary mb-3">Dashboard Displays Historic Data </h5>
        <p class="card-text">
           
The next milestone is our responsive Single Page App (SPA) written
with the Vue JavaScript framework. The SPA will be served up by the
Hub's HTTP server. The Dashboard will display historic data retrieved
via the Hubs REST API.

        </p>
      </div> 
    </div> 
  </div> 
</div> 



<div class="card border-0 mb-3"> 
  <div class="row g-0"> 
    <div class="col-md-2">
      <h1 class="display-1 p-5">3</h1>
    </div>

    <div class="col-md-10"> 
      <div class="card-body"> 
        <h5 class="card-title text-primary mb-3">Dashboard Displays Real Time Data</h5>
        <p class="card-text">
          
The third phase of the project we add Websockets to the Hub and
Dashboard allowing the Hub to stream real-time sensor data to the
Dashboard. The Dashboard will always display the latest data for every
sensor it displays as soon as the data arrives.

        </p>
      </div> 
    </div> 
  </div> 
</div> 



<div class="card border-0 mb-3"> 
  <div class="row g-0"> 
    <div class="col-md-2">
      <h1 class="display-1 p-5">4</h1>
    </div>

    <div class="col-md-10"> 
      <div class="card-body"> 
        <h5 class="card-title text-primary mb-3">Collection Station Transmits Data</h5>
        <p class="card-text">
          
This is the most interesting part of the project for me. We are going
to write some real-time embedded software for the esp32
micro-processor. It will use sensors, Wifi and MQTT to publish
actual sensor data to the subscriber hub.

        </p>
      </div> 
    </div> 
  </div> 
</div> 



<div class="card border-0 mb-3"> 
  <div class="row g-0"> 
    <div class="col-md-2">
      <h1 class="display-1 p-5">5</h1>
    </div>

    <div class="col-md-10"> 
      <div class="card-body"> 
        <h5 class="card-title text-primary mb-3">Introducing the Cloud</h5>
        <p class="card-text">
           
The final frontier, at least for this set of milestones is global
connectivity via the cloud. An Internet connection will allow us to
provide global access, safe persistent storage and fleet management
software.

        </p>
      </div> 
    </div> 
  </div> 
</div> 

<h2 id="the-software-components">The Software Components</h2>
<p>This project reflects <em>&ldquo;real world&rdquo;</em> projects in that it involves a
variety of programming languages, protocols and technologies: <em>Go</em>,
C++, <em>JavaScript</em>, <em>HTTP</em>, <em>MQTT</em>, <em>Websockets</em> and other stuff.</p>
<p>When working on larger projects it is quite common for a single
programmer to work on a very small and focused piece of code. Smaller
projects on the other hand often require programmers to switch
langagues and development environments often, for example jumping back
and forth between backend and front end typically involves a couple
programming langauges, HTML, CSS and SQL are common.</p>
<p>For this reason, we are going to use a variety of programming
languages and communication protocols to complete this non-trivial
IoT application.</p>
<h3 id="open-source-software">Open Source Software</h3>
<p>Each of the software components below are operational, they are also
Open Source each with a <a href="https://github.com/iot-station/">Github Repo
</a>. Instructions to build and run each
component can be found on the respective README.md file. If you are
interested in getting involved, that is great! drop me a line.</p>

      </article>
    </div>
    <div class="col"></div>
  </div>

</div>

<div class="container mb-4">
  <div class="row row-cols-1 row-cols-md-2">
    
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">
          <a href="http://www.rustyeddy.com/iot-project/hub/">Iot Hub</a>
        </h5>
        <p class="card-text">The IoT Hub is the center piece of the OG system it gathers all data, runs the application, provides an API for historic and streams data real-time as it arrives. This project is written in Go as a Micro-service. This is perfect for backend devs and full-stackers. 
</p>
	<a href="http://www.rustyeddy.com/iot-project/hub/">read more ...</a>
      </div>
    </div>
    
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">
          <a href="http://www.rustyeddy.com/iot-project/dashboard/">Real-time Dashboard</a>
        </h5>
        <p class="card-text">The dashboard is a responsive Web Application written with Vue to display historic and real time application data. The dashboard allows users to configure the application and switch connected relays. This is going to be of interest to reactive frontend devs and designers.
</p>
	<a href="http://www.rustyeddy.com/iot-project/dashboard/">read more ...</a>
      </div>
    </div>
    
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">
          <a href="http://www.rustyeddy.com/iot-project/collection-station/">Collection Station</a>
        </h5>
        <p class="card-text">The Collection Stations are small battery powered wireless devices outfitted with environmental sensors. They collect and publish the data to the Hub for processing. This project is built with the esp32 micro-controller, C&#43;&#43; and embedded realtime operating system. 
</p>
	<a href="http://www.rustyeddy.com/iot-project/collection-station/">read more ...</a>
      </div>
    </div>
    
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">
          <a href="http://www.rustyeddy.com/iot-project/cloud/">Cloud Automation</a>
        </h5>
        <p class="card-text">Cloud support extends the reach of the data globally allowing access to both real-time and historical datas from anywhere in the world. The cloud provides opertunities for global control and fleet management. This section is ideal for DevOps and SRE types.
</p>
	<a href="http://www.rustyeddy.com/iot-project/cloud/">read more ...</a>
      </div>
    </div>
    
  </div> 
</div>



	</div><div class="d-flex justify-content-center">
  <script async data-uid="50dfcceaf3" src="https://skilled-producer-5787.ck.page/50dfcceaf3/index.js"></script>
</div>

<footer id="footer" class="container-fluid footer small-text pt-4 border-top">
  <section class="row">
    <div class="col"></div>
    <div class="col text-right">
      <div class="address">419 Main St. #439</div>
      <div class="city">Huntington Beach, CA. 92648</div>
    </div>
    <div class="col-3 text-center">
      <div>
        Last update ~
        
	
        Sunday, Sep 6, 2020
	
        
      </div>
      <div>site by <a href="/">Eddy Consulting, LLC.</a> ~ &#xA9; 2008 to 2020 </div>
    </div>
    <div class="col">
      <div class="text-left">
	<div class="phone">(714) 362-5402</div>
	<a href="https://github.com/rustyeddy">github</a> .
	<a href="https://twitter.com/rustyeddy">twitter</a> .
	<a href="https://linkedin.com/rustyeddy">linkedin</a><br/>	    
      </div>
    </div>
    <div class="col"></div>
  </section>
</footer>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-19940083-13"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-19940083-13');
</script>


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>




    </body>
</html>
