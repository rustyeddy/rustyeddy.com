<!DOCTYPE html>
<html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,600;1,400;1,600&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/css/style.css">


<title>IoT Software Development Process</title>

<script>(function(c,a){if(!a.__SV){var b=window;try{var d,m,j,k=b.location,f=k.hash;d=function(a,b){return(m=a.match(RegExp(b+"=([^&]*)")))?m[1]:null};f&&d(f,"state")&&(j=JSON.parse(decodeURIComponent(d(f,"state"))),"mpeditor"===j.action&&(b.sessionStorage.setItem("_mpcehash",f),history.replaceState(j.desiredHash||"",c.title,k.pathname+k.search)))}catch(n){}var l,h;window.mixpanel=a;a._i=[];a.init=function(b,d,g){function c(b,i){var a=i.split(".");2==a.length&&(b=b[a[0]],i=a[1]);b[i]=function(){b.push([i].concat(Array.prototype.slice.call(arguments,
0)))}}var e=a;"undefined"!==typeof g?e=a[g]=[]:g="mixpanel";e.people=e.people||[];e.toString=function(b){var a="mixpanel";"mixpanel"!==g&&(a+="."+g);b||(a+=" (stub)");return a};e.people.toString=function(){return e.toString(1)+".people (stub)"};l="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
for(h=0;h<l.length;h++)c(e,l[h]);var f="set set_once union unset remove delete".split(" ");e.get_group=function(){function a(c){b[c]=function(){call2_args=arguments;call2=[c].concat(Array.prototype.slice.call(call2_args,0));e.push([d,call2])}}for(var b={},d=["get_group"].concat(Array.prototype.slice.call(arguments,0)),c=0;c<f.length;c++)a(f[c]);return b};a._i.push([b,d,g])};a.__SV=1.2;b=c.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?
MIXPANEL_CUSTOM_LIB_URL:"file:"===c.location.protocol&&"//cdn4.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn4.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn4.mxpnl.com/libs/mixpanel-2-latest.min.js";d=c.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d)}})(document,window.mixpanel||[]);
mixpanel.init("bc05040913854909c46ba8408397cdb5", {batch_requests: true})</script>


<body><header class="container bg-white">
    <nav class="navbar navbar-expand-lg navbar-light">

	<a class="navbar-brand text-muted text-monospace" href="/"><span claa="h1">rusty eddy:</span></a>

	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
	    <span class="navbar-toggler-icon"></span>
	</button>

	<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
	    <nav class="navbar-nav w-100 justify-content-end">
		<div class="nav w-100">
  		    <a class="nav-link" href="/iot-project-sensor-station"> sensor station &nbsp </a>
  	            <a class="nav-link" href="/resume"> resume &nbsp</a> 
  	            <a class="nav-link" href="/about"> about &nbsp</a> 
		</div>
 	    </nav>
	</div>
    </nav>
</header>
<div class="jumbotron border-top border-bottom bg-white" >
    <div class="row">
	<div class="col-md"></div>
	<div class="col-md-8">
	  <h1 class="header h2 text-center pb-1">IoT Software Development Process</h1>
	    <p class="leadin align-right text-muted text-center mt-0">
		IoT Software Project
	    </p>
	</div>
	<div class="col-md"></div>
    </div>
    <div class="row text-center smaller-text">
	<div class="col"></div>
	<div class="col-8">
	    <nav class="nav justify-content-center">
                
                
                
                
                

	    </nav>

	</div>
	<div class="col"></div>
    </div>
</div>
<div id="main body">
<div class="container">

  <div class="row mb-4">
    <div class="col"></div>
    <div class="col-8">
      <article class="article text-big">
	<p><img src="/img/iot-project-drawing.png" alt="High Level Sensor Station"></p>
<h2 id="what-does-this-project-do">What Does this project do?</h2>
<p>I started this project to help water our home garden. You see my wife
is really into <em>succulents</em> and while these plants are <em>drought
tolerent</em> they do not like to be over watered. Second, being in
drought ridden Southern California I want to be able to limit our
water usage to only what is necessary.</p>
<h3 id="1-collection-stations-cs">1. Collection Stations (CS)</h3>
<p>The way this <em>Organic Gardner (OG)</em> works is pretty simple: build a
<em>Collection Staiton (CS)</em> that gathers temperature and soil moisture
levels from sensors stuck in the dirt then publish that data to the
application running on the Hub.</p>
<h3 id="2-iot-hub-and-applications">2. IoT Hub and Applications</h3>
<p>The <em>application</em> on the the Hub determines if sprinklers need to be
turned on or off. Likewise, luminence levels will cause the
application to turn lighting systems on or off.</p>
<h3 id="3-control-station-cs">3. Control Station (CS)</h3>
<p>When the application needs to turn a pump or light on or off the
application will send an MQTT message to the <em>Control Station (CS)</em>
connected to a relay acting as a pump or light switch.</p>
<h3 id="4-dashboard">4. Dashboard</h3>
<p>The <em>Dashboard</em> was written as a <em>Web Application</em> for the <em>User
Interface (UI)</em>. This gives humans easy access to historical and
real-time sensor data.</p>
<h3 id="5-cloud---persistance-and-global-control">5. Cloud - Persistance and Global Control</h3>
<p>And that is NOT ALL! The cloud is used for storing historical data,
global <em>access</em>, <em>control</em> and <em>management</em> of one or more <em>sensor
networks</em>.</p>
<h3 id="system-summary">System Summary</h3>
<p>In summary the IoT project is made of these distinct components.</p>
<ol>
<li><em>CS</em> Collect and publish environmental data</li>
<li><em>Hub</em> gather data and run <em>Application Logic (AL)</em></li>
<li><em>CS</em> Control lights, sprinklers and heaters</li>
<li><em>Dashboard</em> Human monitor and control</li>
<li><em>Cloud</em> Perpetual Persistence and Global Access</li>
</ol>
<p>Pretty simple, right?</p>
<h2 id="phase-1---the-minimum-viable-product">Phase 1 - The Minimum Viable Product</h2>
<p>Now that we have a pretty good idea of what we want to build and how
it is going to work we now need to plot our development plan.</p>
<p>In the spirit of <em>Lean Startup</em> and <em>Agile</em> we are going to build this
project in phases that each provide progressive levels of usefulness.</p>
<h3 id="the-proof-of-concept-poc">The Proof Of Concept (PoC)</h3>
<p>This is a complex system with a three or four distinct software
components and some hardware. This also involves at least 3 if not
four or five different programing languages and development
environments, which is pretty much what we see in the &ldquo;real world&rdquo;.</p>
<p>The objective is to build the software such that each new addition of
software adds a specific verifiable benefit to the <em>user</em>.</p>
<p>The idea is We&rsquo;ll build this system one step at a time. The end goal is the
<em>irrigation application</em>, however we can still get something useful
from the software before the complete irrigation system can be built.</p>
<p>For example, in this project we&rsquo;ll use our <em>real time</em> dashboard to
act like an <em>Internet Clock</em> displaying real time temperature data
making the application a bit more useful every day.</p>
<h4 id="milestone-1---aggregation-hub">Milestone 1 - Aggregation Hub</h4>
<p>The first step is to get the Hub to subscribe to MQTT data channels,
then start recieving and <em>caching</em> the data in RAM.</p>
<ul>
<li>Read MQTT publications and cache in memory</li>
<li>REST API provides access to cached data</li>
</ul>
<h4 id="milestone-2---dashboard">Milestone 2 - Dashboard</h4>
<p>The Dashboard is a WebApp that uses the REST API of the Hub to fetch
and display historic sensor data in graph and table forms.</p>
<ol>
<li>Responsive WebApp written</li>
<li>REST API Client to fetch data</li>
<li>Graph and table display of historic data</li>
</ol>
<h4 id="milestone-3---real-time-datashboard">Milestone 3 - Real Time Datashboard</h4>
<p>We are going to add <em>Websockets</em> to the <em>Hub</em> and the <em>Dashboard</em>
allowing the Hub to stream data to the Dashboard to display
<em>real-time</em> data stream on the dashboard.</p>
<ol>
<li>Add websocket support to Hub</li>
<li>Add websocket support to Dashboard</li>
</ol>
<h4 id="milestone-4---collection-station">Milestone 4 - Collection Station</h4>
<p>The data in Milestones 1 - 3 was <em>mocked</em> by a MQTT publishing
client. The Collection Station is an esp32 SoC with a DHT22 sensor
that will collect <em>temperature</em> and <em>humidity</em>. The esp32 will publish
that data over the appropriate MQTT data channel.</p>
<ol>
<li>esp32 Wifi</li>
<li>DHT22 temperature and humidity sampling</li>
<li>MQTT publication of data</li>
</ol>
<p>Now we are collecting, publishing and displaying real <em>environmental</em> data!</p>
<h4 id="milestone-5---time-series-database">Milestone 5 - Time Series Database</h4>
<p>Data that has been collected over a long period of time can be saved
locally or in the cloud. In our case, the data we have collected is
known as a <em>time series</em>.</p>
<ol>
<li>Introduce Influx or Promethus to store data</li>
</ol>
<h4 id="milestone-6---fleet-management">Milestone 6 - Fleet Management</h4>
<p>As time goes on and the application evolves according to operation
experience and demand, features will be added and software will be
changed. This often leads to disruptive or difficult software upgrade
events.</p>
<ol>
<li>Over The Air (OTA) Updates</li>
<li>Remote monitoring</li>
<li>Remote control</li>
</ol>
<h2 id="the-software-components">The Software Components</h2>

      </article>
    </div>
    <div class="col"></div>
  </div>

</div>

<div class="container">
  <div class="row">
    

    <div class="col-6">
      <div class="card mb-4">
	<div class="card-body">

	  <h5 class="card-title">
            <a href="/iot-project-sensor-station/coming-soon">Collection Station</a>
	    
	  </h5>

	  <div class="card-text">
	    We are going to build a Sensor Station capable of wirelessly publishing environmental data to any entity that subscribes to the data. The stations are typically battery powered and  run in areas with no electrical power.

	  </div>

          <div class="pt-2">
	    <a href="http://www.rustyeddy.com/collection-station/">read more ...</a>
          </div>

	</div>
      </div>
    </div>

    

    <div class="col-6">
      <div class="card mb-4">
	<div class="card-body">

	  <h5 class="card-title">
            <a href="/iot-project-sensor-station/coming-soon">IoT Project Data Aggregation Hub</a>
	    
	  </h5>

	  <div class="card-text">
	    The IoT Hub gathers the environmental data published by our Collection Stations then uses that data to determine when to turn on and off a sprinkler systems and send data to the dashboard for human consumption. 

	  </div>

          <div class="pt-2">
	    <a href="http://www.rustyeddy.com/iot-project/hub/">read more ...</a>
          </div>

	</div>
      </div>
    </div>

    

    <div class="col-6">
      <div class="card mb-4">
	<div class="card-body">

	  <h5 class="card-title">
            <a href="/iot-project-sensor-station/coming-soon">IoT Real-time Dashboard</a>
	    
	  </h5>

	  <div class="card-text">
	    The dashboard is a WebUI built into the Hub providing a window into your environmental health with real-time data and historic values.

	  </div>

          <div class="pt-2">
	    <a href="http://www.rustyeddy.com/iot-project/dashboard/">read more ...</a>
          </div>

	</div>
      </div>
    </div>

    

    <div class="col-6">
      <div class="card mb-4">
	<div class="card-body">

	  <h5 class="card-title">
            <a href="/iot-project-sensor-station/coming-soon">IoT Project Cloud Automation</a>
	    
	  </h5>

	  <div class="card-text">
	    Cloud support extends the reach of the data globally allowing access to both real-time and historical datas, it also expands the length data can be kept  

	  </div>

          <div class="pt-2">
	    <a href="http://www.rustyeddy.com/iot-project/cloud/">read more ...</a>
          </div>

	</div>
      </div>
    </div>

    

    <div class="col-6">
      <div class="card mb-4">
	<div class="card-body">

	  <h5 class="card-title">
            <a href="/iot-project-sensor-station/coming-soon">Open Source Software</a>
	    
	  </h5>

	  <div class="card-text">
	    We like Open Source and Open Technology

	  </div>

          <div class="pt-2">
	    <a href="http://www.rustyeddy.com/iot-project/open-source/">read more ...</a>
          </div>

	</div>
      </div>
    </div>

    

    <div class="col-6">
      <div class="card mb-4">
	<div class="card-body">

	  <h5 class="card-title">
            <a href="/iot-project-sensor-station/coming-soon">Coming Soon</a>
	    
	  </h5>

	  <div class="card-text">
	    
	  </div>

          <div class="pt-2">
	    <a href="http://www.rustyeddy.com/iot-project/coming-soon/">read more ...</a>
          </div>

	</div>
      </div>
    </div>

    
  </div> 

</div>



	</div><footer id="footer" class="container-fluid footer small-text pt-4 border-top">
  <section class="row">
    <div class="col"></div>
    <div class="col text-right">
      <div class="address">419 Main St. #439</div>
      <div class="city">Huntington Beach, CA. 92648</div>
    </div>
    <div class="col-3 text-center">
      <div>
        Last update ~
        
	
        Sunday, Sep 6, 2020
	
        
      </div>
      <div>site by <a href="/">Eddy Consulting, LLC.</a> ~ &#xA9; 2008 to 2020 </div>
    </div>
    <div class="col">
      <div class="text-left">
	<div class="phone">(714) 362-5402</div>
	<a href="https://github.com/rustyeddy">github</a> .
	<a href="https://twitter.com/rustyeddy">twitter</a> .
	<a href="https://linkedin.com/rustyeddy">linkedin</a><br/>	    
      </div>
    </div>
    <div class="col"></div>
  </section>
</footer>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-19940083-13"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-19940083-13');
</script>


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>




    </body>
</html>
